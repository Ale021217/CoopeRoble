<form [formGroup]="reporteForm" (ngSubmit)="onSubmit()">
  <h2>Enviar Reporte</h2>

  <!-- Campo: Unidad -->
  <div>
    <label for="unidad">Unidad:</label>
    <input id="unidad" type="number" formControlName="unidad" />
    <div *ngIf="f['unidad'].touched && f['unidad'].invalid">
      <small *ngIf="f['unidad'].errors?.['required']">La unidad es obligatoria.</small>
      <small *ngIf="f['unidad'].errors?.['pattern']">La unidad debe ser numérica.</small>
    </div>
  </div>

  <!-- Campo: Imagen de Avería -->
  <div>
    <label for="imagen_averia">Imagen Avería (URL):</label>
    <input id="imagen_averia" type="text" formControlName="imagen_averia" />
    <div *ngIf="f['imagen_averia'].touched && f['imagen_averia'].invalid">
      <small *ngIf="f['imagen_averia'].errors?.['pattern']">La imagen debe ser una URL válida.</small>
    </div>
  </div>

  <!-- Campo: Tipo de Avería (Select) -->
  <div>
    <label for="tipo_averia">Tipo de Avería:</label>
    <select id="tipo_averia" formControlName="tipo_averia">
      <option [ngValue]="null" disabled>Seleccione una avería</option>
      <option *ngFor="let averia of averias" [ngValue]="averia.id">
        {{ averia.nombre }}
      </option>
    </select>
    <div *ngIf="f['tipo_averia'].touched && f['tipo_averia'].invalid">
      <small *ngIf="f['tipo_averia'].errors?.['required']">El tipo de avería es obligatorio.</small>
    </div>
  </div>

  <!-- Campo: Estado -->
  <div>
    <label for="estado">Estado:</label>
    <input id="estado" type="text" formControlName="estado" />
    <div *ngIf="f['estado'].touched && f['estado'].invalid">
      <small *ngIf="f['estado'].errors?.['required']">El estado es obligatorio.</small>
    </div>
  </div>

  <button type="submit" [disabled]="isSubmitting">Enviar Reporte</button>
</form>

<!-- Mensajes de éxito y error -->
<div *ngIf="successMessage">
  <p class="success">{{ successMessage }}</p>
</div>
<div *ngIf="errorMessage">
  <p class="error">{{ errorMessage }}</p>
</div>
